<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="/static/js/bulletinComment.js" type="text/javascript"></script>
<body>

<form role="form" th:object=${tbl_bulletinVO} th:action="@{/bulletinDetail}">
    <div>
        <label style="font-weight: bolder;">제목</label>
        <p th:text="${detail.article_title}"></p>
        <input type="hidden" th:field="${detail.article_title}">
    </div>
    <div>
        <label style="font-weight: bolder;">작성자</label>
        <p th:text="${detail.doctor_id}"></p>
    </div>
    <div>
        <label style="font-weight: bolder;">작성일자</label>
        <p th:text="${detail.article_date}"></p>
    </div>
    <div>
        <label style="font-weight: bolder;">첨부파일</label>
    </div>
    <div>
        <label style="font-weight: bolder;">내용</label>
        <p th:text="${detail.article_content}"></p>
        <input type="hidden" th:field="${detail.article_content}">
    </div>
    <div style="text-align: right;">
        <input type="submit" th:value="목록"
               th:formaction="@{/getBulletin}">
        <input type="submit" th:value="수정"
               th:formaction="@{/goBulletinUpdate/{article_seq}(article_seq=${detail.article_seq})}">
        <input type="submit" th:value="삭제"
               th:formaction="@{/bulletinDelete/{articleSeq}(articleSeq=${detail.article_seq})}">
    </div>
</form>
<div class="card my-4">
    <h5 class="card-header">Leave a Comment:</h5>
    <div id="commentTable">
        <div th:each="comment, index:${getCommentList}">
            <form method="POST">
                <div th:text="${comment.doctor_id}"></div>
                <div th:text="${comment.comment_date}"></div>
                <div th:text="${comment.comment_content}"></div>
                <div class="text-right" th:if="${comment.doctor_id==session.doctor_id}">
                    <span><button type="submit" name="submit" value="update">수정</button></span>
                    <span><button type="submit" name="submit" value="delete">삭제</button></span>
                </div>
            </form>
        </div>
    </div>
    <div class="card-body">
        <form name="comment-form" action="/commentWrite" method="post" autocomplete="off">
            <div class="form-group">
                <input type="hidden" name="article_seq" th:value="*{detail.article_seq}">
                <input name="doctor_id" th:value="${session.doctor_id}" readonly="readonly"><br>
                <textarea name="comment_content" class="form-control" rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>
</body>
</html>